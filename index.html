<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Breakout</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <!-- Stars layer -->
    <div class="stars" id="stars"></div>
    
    <!-- Background planets -->
    <div class="planet planet1"></div>
    <div class="planet planet2"></div>

    <!-- Game container -->
    <div class="game-container">
        <!-- Score panel above canvas -->
        <div class="score-panel">
            <div class="score-item">
                <span class="label">Score:</span>
                <span class="value" id="current-score">0</span>
            </div>
            <div class="score-item">
                <span class="label">Level:</span>
                <span class="value" id="current-level">1</span>
            </div>
            <div class="score-item">
                <span class="label">High Score:</span>
                <span class="value" id="high-score">0</span>
            </div>
            <div class="score-item lives">
                <span class="label">Lives:</span>
                <span class="value" id="lives-count">3</span>
            </div>
        </div>

        <!-- Game canvas -->
        <canvas id="canvas" width="1600" height="700"></canvas>
        
        <!-- HTML UI Elements that game.js references -->
        <div id="score" style="display: none;"></div>
        <div id="level" style="display: none;"></div>
        <div id="highScore" style="display: none;"></div>
        <button id="pause-btn" style="display: none;">Pause</button>
    </div>

    <!-- Level complete modal -->
    <div id="level-complete-modal" class="modal">
        <div class="modal-content">
            <h2>Level Complete!</h2>
            <p id="level-complete-text">Level 1 Complete!</p>
            <button id="next-level-btn" class="modal-btn">Next Level</button>
        </div>
    </div>

    <!-- Pause modal -->
    <div id="pause-modal" class="modal">
        <div class="modal-content">
            <h2>Game Paused</h2>
            <button id="resume-btn" class="modal-btn">Resume</button>
            <button id="pause-settings-btn" class="modal-btn">Settings</button>
            <button id="pause-main-menu-btn" class="modal-btn">Main Menu</button>
        </div>
    </div>

    <!-- Game over modal -->
    <div id="game-over-modal" class="modal">
        <div class="modal-content">
            <h2>Game Over</h2>
            <p id="final-score-text">Final Score: 0</p>
            <button id="restart-level-btn" class="modal-btn">Restart Level</button>
            <button id="game-over-settings-btn" class="modal-btn">Settings</button>
            <button id="game-over-main-menu-btn" class="modal-btn">Main Menu</button>
        </div>
    </div>

    <!-- Player Name Input -->
    <div id="name-input-modal" class="modal active">
        <div class="modal-content">
            <h2>Welcome to Brick Breaker!</h2>
            <p>Enter your name to continue:</p>
            <input type="text" id="player-name-input" placeholder="Enter your name" maxlength="20">
            <button id="continue-btn" class="modal-btn">Continue</button>
        </div>
    </div>

    <!-- Main Menu -->
    <div id="menu" style="display:none;">
        <h1>Brick Breaker</h1>
        <p id="welcome-text">Welcome, Player!</p>
        <button id="startBtn" class="menu-btn">Start Game</button>
        <button id="settingsBtn" class="menu-btn">Settings</button>
        <button id="leaderboardBtn" class="menu-btn">Leaderboard</button>
        <button id="soundBtn" class="menu-btn">ðŸ”ˆ Sound: ON</button>
        <p id="infoText">Highest Score: 0</p>
    </div>
    
    <!-- Difficulty Selection Menu -->
    <div id="difficulty-menu" style="display:none;">
        <h2>Choose Difficulty</h2>
        <button class="difficulty-btn" data-difficulty="easy">Easy</button>
        <button class="difficulty-btn" data-difficulty="medium">Medium</button>
        <button class="difficulty-btn" data-difficulty="hard">Hard</button>
        <button class="difficulty-btn" data-difficulty="infinity">Infinity</button>
        <button id="back-to-menu-btn" class="menu-btn">Back to Menu</button>
    </div>

    <!-- Settings Menu -->
    <div id="settings-menu" style="display:none;">
        <h2>Settings</h2>
        <div class="setting-item">
            <label>Sound:</label>
            <button id="sound-toggle-btn" class="menu-btn">ðŸ”ˆ ON</button>
        </div>
        <div class="setting-item">
            <label>Music Volume:</label>
            <input type="range" id="music-volume" min="0" max="100" value="20">
        </div>
        <div class="setting-item">
            <label>SFX Volume:</label>
            <input type="range" id="sfx-volume" min="0" max="100" value="50">
        </div>
        <button id="resume-from-settings-btn" class="menu-btn" style="display:none;">Resume Game</button>
        <button id="back-to-main-btn" class="menu-btn">Back to Menu</button>
    </div>

    <!-- Leaderboard Menu -->
    <div id="leaderboard-menu" style="display:none;">
        <h2>Leaderboard</h2>
        <div id="leaderboard-content">
            <p>Loading leaderboard...</p>
        </div>
        <button id="back-to-main-leaderboard-btn" class="menu-btn">Back to Menu</button>
    </div>

    <script type="module" src="background.js"></script>
    <script type="module" src="game.js"></script>
</body>
</html>